{"version":3,"sources":["../cart.js"],"names":["Vue","el","data","totalmoney","items","checkAllFlag","flag","popup","filters","formatMoney","value","toFixed","mounted","$nextTick","cartView","methods","_this","axios","method","url","responseType","then","res","result","list","totalMoney","changSize","item","type","productQuantity","calcTotalOrice","selectedProduct","checked","$set","forEach","index","length","productPrice","checkAll","floatWindow","Confirm","delShop","splice"],"mappings":"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","file":"cart.js","sourcesContent":["new Vue({\r\n\tel:\"#index\",\r\n\tdata:function(){\r\n\t\treturn{\r\n\t\t\ttotalmoney:0,\r\n\t\t\titems:[],\r\n\t\t\tcheckAllFlag:false,\r\n\t\t\tflag:0,\r\n\t\t\tpopup:false\r\n\t\t}\r\n\t},\r\n\tfilters:{\r\n\t\tformatMoney:function(value){//rmb符号\r\n\t\t\t\treturn\t\"￥\"+value.toFixed(2);\r\n\t\t}\r\n\t},\r\n\tmounted:function(){\r\n\t\tthis.$nextTick(function () {\r\n\t\t\tthis.cartView();\r\n\t\t})\r\n\t},\r\n\tmethods:{\r\n\t\tcartView:function(){//获取json数据\r\n\t\t\t\tvar  _this=this;\r\n\t\t\t\t\taxios({\r\n\t\t\t\t\t  method:'get',\r\n\t\t\t\t\t  url:'data/cart.json',\r\n\t\t\t\t\t  responseType:'stream'\r\n\t\t\t\t\t}) .then(function(res) {\r\n\t\t\t\t\t _this.items=res.data.result.list;\r\n\t\t\t\t\t _this.totalmoney=res.data.result.totalMoney;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\tchangSize:function(item,type){//物品数量\r\n\t\t\tif(type==-1){\r\n\t\t\t\titem.productQuantity>1?item.productQuantity--:item.productQuantity=1;\r\n\t\t\t}else{\r\n\t\t\t\titem.productQuantity++;\r\n\t\t\t}\r\n\t\t\tthis.calcTotalOrice();\r\n\t\t},\r\n\t\tselectedProduct:function(item){//单选\r\n\t\t\t\tvar  _this=this;\r\n\t\t\t\tif(typeof item.checked == 'undefined'){\r\n\t\t\t\t\tthis.$set(item,\"checked\",true);\r\n\t\t\t\t}else{\r\n\t\t\t\t\titem.checked=!item.checked\r\n\t\t\t\t}\r\n\t\t\t\tthis.items.forEach(function(item,index){\r\n\t\t\t\t\tif(item.checked!=true ){\r\n\t\t\t\t\t\t\t_this.flag+=0;\r\n\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t_this.flag+=1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t//console.log(_this.flag);\r\n\t\t\t\t});\r\n\t\t\t\tthis.checkAllFlag=this.flag==this.items.length?true:false;\r\n\t\t\t\tthis.calcTotalOrice();\r\n\t\t\t\t_this.flag=0;\r\n\t\t},\r\n\t\tcalcTotalOrice:function(){//总价计算\r\n\t\t\t\tvar  _this=this;\r\n\t\t\t\t_this.totalmoney=0;\r\n\t\t\t\t\tthis.items.forEach(function(item,index){\r\n\t\t\t\t\t\tif(item.checked){\r\n\t\t\t\t\t\t\t_this.totalmoney+=item.productPrice*item.productQuantity;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t})\t\r\n\t\t},\r\n\t\tcheckAll:function(flag){//全选\r\n\t\t\t\tthis.checkAllFlag=flag;\r\n\t\t\t\tvar _this=this;\r\n\t\t\t\tthis.items.forEach(function(item,index){\r\n\t\t\t\t\t\tif(typeof item.checked == 'undefined'){\r\n\t\t\t\t\t\t\t_this.$set(item,\"checked\",_this.checkAllFlag);\r\n\t\t\t\t\t\t\t//this.$set(item,\"checked\",true);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\titem.checked=_this.checkAllFlag;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t})\t\r\n\t\t\t\t\tthis.calcTotalOrice();\r\n\t\t},\r\n\t\tfloatWindow:function(type,index){\r\n\t\t\tthis.popup=type;\r\n\t\t\tthis.Confirm=index;\r\n\t\t},\r\n\t\tdelShop:function(){\r\n\t\t\t\tthis.items.splice(this.Confirm,1);\r\n\t\t\t\tthis.popup=false;\r\n\t\t\t\tthis.calcTotalOrice();\r\n\t\t}\r\n\t\t\r\n\t}\r\n})"]}